@model dynamic

@{
    ViewData["Title"] = "Chi tiết đơn hàng";
    decimal giave = 0;
    string soghe = "";
    string dau = "";
    string tenKhach = "";
    int Makhach = 0;
    int maLichChieu = 0;
    DateTime ngaydat = default;
    TimeOnly giochieu = default;
    string TenPhim = "";
}

@foreach (var v in Model)
{
    maLichChieu = v.MaLichChieu;
    giave = v.GiaVe + giave;
    soghe = soghe + dau + v.SoGhe;
    tenKhach = v.TenKhach;
    ngaydat = v.NgayDat;
    dau = ", ";
    giochieu = v.GioChieu;
    Makhach = v.MaKhachHang;
    TenPhim = v.TenPhim;
}
<div class="container mt-4 p-4">

    
    <div class="row">

        <div class="col-md-8">
            <h2 class="text-center mb-4">Chi tiết đơn hàng</h2>
            <table class="table table-striped table-bordered table-hover" style="font-size: 18px;">
                <tbody>
                    <tr>
                        <th>Mã Vé</th>
                        <td></td>
                    </tr>
                    <tr>
                        <th>Tên khách hàng</th>
                        <td>@tenKhach</td>
                    </tr>
                    <tr>
                        <th>Số ghế</th>
                        <td>@soghe</td>
                    </tr>
                    <tr>
                        <th>Giờ chiếus</th>
                        <td>@giochieu</td>
                    </tr>
                    <tr>
                        <th>Giá vé</th>
                        <td>@giave.ToString("N0") VNĐ</td>
                    </tr>
                    <tr>
                        <th>Ngày đặt</th>
                        <td>@ngaydat.ToString("dd/MM/yyyy")</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="text-center mt-4">
         <form method="post" asp-controller="CheckoutApi" asp-action="Create">
            <input hidden type="number" name="Makhach" value="@Makhach" />
            <input hidden type="number" name="MaLichChieu" value="@maLichChieu" /> 
            <input hidden type="text" name="soghe" value="@soghe" required />
            <input hidden type="text" name="TenPhim" value="@TenPhim" required />
            <input hidden type="number" name="giave" value="@giave" required />
            <input hidden type="datetime" name="ngaydat" value="@ngaydat.ToString("yyyy-MM-dd")" required />
            <input hidden type="time" name="giochieu" value="@giochieu.ToString("HH:mm")" required />
            <a href="@Url.Action("Index", "Home")" class="btn btn-primary btn-lg">Quay lại</a>
            <button type="submit" id="create-payment-link-btn" class="btn btn-success btn-lg">Tạo Link thanh toán</button>
        </form>

        
    </div>
</div>
